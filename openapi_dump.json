{
  "openapi": "3.1.0",
  "info": {
    "title": "House Renovators AI Portal API",
    "description": "AI-powered backend for House Renovators permit management and chat system",
    "version": "1.0.0"
  },
  "paths": {
    "/v1/auth/supabase/me": {
      "get": {
        "tags": [
          "auth-supabase"
        ],
        "summary": "Get Current User Info",
        "description": "Get current authenticated user info.\n\nFrontend should call this after login to get app-specific user data (role, permissions).",
        "operationId": "get_current_user_info_v1_auth_supabase_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/auth/supabase/me/metadata": {
      "put": {
        "tags": [
          "auth-supabase"
        ],
        "summary": "Update My Metadata",
        "description": "Update current user's app metadata (preferences, settings).\n\nExample metadata:\n{\n    \"preferences\": {\"theme\": \"dark\", \"notifications\": true},\n    \"settings\": {\"email_updates\": false}\n}",
        "operationId": "update_my_metadata_v1_auth_supabase_me_metadata_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMetadataRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/auth/supabase/users/{user_id}": {
      "get": {
        "tags": [
          "auth-supabase"
        ],
        "summary": "Get User",
        "description": "Get user by ID (admin only)",
        "operationId": "get_user_v1_auth_supabase_users__user_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "auth-supabase"
        ],
        "summary": "Deactivate User",
        "description": "Deactivate user (soft delete, admin only)",
        "operationId": "deactivate_user_v1_auth_supabase_users__user_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/supabase/users/{user_id}/role": {
      "put": {
        "tags": [
          "auth-supabase"
        ],
        "summary": "Update User Role",
        "description": "Update user role (admin only).\n\nValid roles: admin, pm, inspector, client, finance",
        "operationId": "update_user_role_v1_auth_supabase_users__user_id__role_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRoleRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/supabase/health": {
      "get": {
        "tags": [
          "auth-supabase"
        ],
        "summary": "Auth Health",
        "description": "Check auth service health",
        "operationId": "auth_health_v1_auth_supabase_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/chat/": {
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Process Chat Message",
        "description": "Process a chat message using OpenAI and perform any necessary actions\nIncludes short-term memory for conversational context",
        "operationId": "process_chat_message_v1_chat__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Chat Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/query": {
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Advanced Query",
        "description": "Advanced query endpoint for specific data requests\nSupports filtering, sorting, and aggregations",
        "operationId": "advanced_query_v1_chat_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Query Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/memory/{session_id}": {
      "get": {
        "tags": [
          "chat"
        ],
        "summary": "Get Session Memory",
        "description": "Get current memory for a session",
        "operationId": "get_session_memory_v1_chat_memory__session_id__get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/memory/{session_id}/clear": {
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Clear Session Memory",
        "description": "Clear memory for a specific session",
        "operationId": "clear_session_memory_v1_chat_memory__session_id__clear_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/memory/stats": {
      "get": {
        "tags": [
          "chat"
        ],
        "summary": "Get Memory Stats",
        "description": "Get statistics about memory usage",
        "operationId": "get_memory_stats_v1_chat_memory_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/chat/sessions": {
      "get": {
        "tags": [
          "chat"
        ],
        "summary": "List Sessions",
        "description": "List all chat sessions from Google Sheets (persistent) and memory (active)\nCombines both sources for complete session list",
        "operationId": "list_sessions_v1_chat_sessions_get",
        "parameters": [
          {
            "name": "user_email",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Create Session",
        "description": "Create a new chat session with optional metadata\nSaves to both memory (fast) and Google Sheets (persistent)",
        "operationId": "create_session_v1_chat_sessions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "additionalProperties": true
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Session Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/sessions/{session_id}": {
      "delete": {
        "tags": [
          "chat"
        ],
        "summary": "Delete Session",
        "description": "Delete a specific chat session from both memory and Google Sheets",
        "operationId": "delete_session_v1_chat_sessions__session_id__delete",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "chat"
        ],
        "summary": "Get Session Details",
        "description": "Get full details and history for a specific session\nLoads from Google Sheets if not in memory (for resumed sessions)",
        "operationId": "get_session_details_v1_chat_sessions__session_id__get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/sessions/{session_id}/metadata": {
      "put": {
        "tags": [
          "chat"
        ],
        "summary": "Update Session Metadata",
        "description": "Update session metadata (e.g., rename chat)\nUpdates both memory and Google Sheets",
        "operationId": "update_session_metadata_v1_chat_sessions__session_id__metadata_put",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Metadata"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/status": {
      "get": {
        "tags": [
          "chat"
        ],
        "summary": "Get Chat Status",
        "description": "Get the current status of the chat system",
        "operationId": "get_chat_status_v1_chat_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/permits": {
      "post": {
        "tags": [
          "permits"
        ],
        "summary": "Create Permit",
        "description": "Create a new permit for a project.\n\nReturns the created permit with auto-generated business_id (PER-00001).",
        "operationId": "create_permit_v1_permits_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermitCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermitResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "permits"
        ],
        "summary": "List Permits",
        "description": "List permits with optional filtering.",
        "operationId": "list_permits_v1_permits_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "project_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Project Id"
            }
          },
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          },
          {
            "name": "jurisdiction",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Jurisdiction"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermitListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/permits/by-business-id/{business_id}": {
      "get": {
        "tags": [
          "permits"
        ],
        "summary": "Get Permit By Business Id",
        "description": "Get a permit by business ID (e.g., PER-00001).",
        "operationId": "get_permit_by_business_id_v1_permits_by_business_id__business_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "business_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Business Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermitResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/permits/{permit_id}": {
      "get": {
        "tags": [
          "permits"
        ],
        "summary": "Get Permit",
        "description": "Get a permit by ID.",
        "operationId": "get_permit_v1_permits__permit_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "permit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Permit Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermitResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "permits"
        ],
        "summary": "Update Permit",
        "description": "Update a permit's details (does not change status).",
        "operationId": "update_permit_v1_permits__permit_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "permit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Permit Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermitUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermitResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "permits"
        ],
        "summary": "Delete Permit",
        "description": "Delete a permit (soft delete - changes status to Cancelled).",
        "operationId": "delete_permit_v1_permits__permit_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "permit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Permit Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/permits/{permit_id}/status": {
      "put": {
        "tags": [
          "permits"
        ],
        "summary": "Update Permit Status",
        "description": "Update a permit's status with history tracking.",
        "operationId": "update_permit_status_v1_permits__permit_id__status_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "permit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Permit Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermitStatusUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermitResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/permits/{permit_id}/submit": {
      "post": {
        "tags": [
          "permits"
        ],
        "summary": "Submit Permit",
        "description": "Submit a permit for review (changes status from Draft to Submitted).",
        "operationId": "submit_permit_v1_permits__permit_id__submit_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "permit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Permit Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermitSubmit"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermitResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/permits/{permit_id}/precheck": {
      "get": {
        "tags": [
          "permits"
        ],
        "summary": "Precheck Permit",
        "description": "Run AI-powered precheck to determine if inspection can be scheduled.\n\nPlaceholder implementation - full AI precheck in Phase B.3.",
        "operationId": "precheck_permit_v1_permits__permit_id__precheck_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "permit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Permit Id"
            }
          },
          {
            "name": "inspection_type",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Inspection Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PrecheckResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inspections": {
      "post": {
        "tags": [
          "inspections"
        ],
        "summary": "Create Inspection",
        "description": "Create a new inspection for a permit.",
        "operationId": "create_inspection_v1_inspections_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InspectionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InspectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "inspections"
        ],
        "summary": "List Inspections",
        "description": "List inspections with optional filtering.",
        "operationId": "list_inspections_v1_inspections_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "project_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Project Id"
            }
          },
          {
            "name": "permit_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Permit Id"
            }
          },
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InspectionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inspections/by-business-id/{business_id}": {
      "get": {
        "tags": [
          "inspections"
        ],
        "summary": "Get Inspection By Business Id",
        "description": "Get an inspection by business ID (e.g., INS-00001).",
        "operationId": "get_inspection_by_business_id_v1_inspections_by_business_id__business_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "business_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Business Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InspectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inspections/{inspection_id}": {
      "get": {
        "tags": [
          "inspections"
        ],
        "summary": "Get Inspection",
        "description": "Get an inspection by UUID.",
        "operationId": "get_inspection_v1_inspections__inspection_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Inspection Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InspectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "inspections"
        ],
        "summary": "Update Inspection",
        "description": "Update an inspection.",
        "operationId": "update_inspection_v1_inspections__inspection_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Inspection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InspectionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InspectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "inspections"
        ],
        "summary": "Cancel Inspection",
        "description": "Cancel an inspection (soft delete - sets status to 'Cancelled').",
        "operationId": "cancel_inspection_v1_inspections__inspection_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Inspection Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inspections/{inspection_id}/photos": {
      "post": {
        "tags": [
          "inspections"
        ],
        "summary": "Add Inspection Photo",
        "description": "Add a photo to an inspection.",
        "operationId": "add_inspection_photo_v1_inspections__inspection_id__photos_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Inspection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PhotoUpload"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InspectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/inspections/{inspection_id}/deficiencies": {
      "post": {
        "tags": [
          "inspections"
        ],
        "summary": "Add Deficiency",
        "description": "Add a deficiency to an inspection.",
        "operationId": "add_deficiency_v1_inspections__inspection_id__deficiencies_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Inspection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeficiencyCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InspectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/projects/": {
      "get": {
        "tags": [
          "projects"
        ],
        "summary": "Get All Projects",
        "description": "Get all projects from PostgreSQL database",
        "operationId": "get_all_projects_v1_projects__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "projects"
        ],
        "summary": "Create Project",
        "description": "Create a new project",
        "operationId": "create_project_v1_projects__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/projects/{project_id}": {
      "get": {
        "tags": [
          "projects"
        ],
        "summary": "Get Project",
        "description": "Get a specific project by ID",
        "operationId": "get_project_v1_projects__project_id__get",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Project Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "projects"
        ],
        "summary": "Update Project",
        "description": "Update a specific project",
        "operationId": "update_project_v1_projects__project_id__put",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Project Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "projects"
        ],
        "summary": "Delete Project",
        "description": "Delete a project by ID",
        "operationId": "delete_project_v1_projects__project_id__delete",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Project Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/projects/search/": {
      "get": {
        "tags": [
          "projects"
        ],
        "summary": "Search Projects",
        "description": "Search projects with various filters",
        "operationId": "search_projects_v1_projects_search__get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Search query",
              "title": "Query"
            },
            "description": "Search query"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          },
          {
            "name": "client_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by client ID",
              "title": "Client Id"
            },
            "description": "Filter by client ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/projects/by-business-id/{business_id}": {
      "get": {
        "tags": [
          "projects"
        ],
        "summary": "Get Project By Business Id",
        "description": "Get a specific project by business ID (e.g., PRJ-00001)",
        "operationId": "get_project_by_business_id_v1_projects_by_business_id__business_id__get",
        "parameters": [
          {
            "name": "business_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Business Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/clients/": {
      "get": {
        "tags": [
          "clients"
        ],
        "summary": "Get All Clients",
        "description": "Get all clients from PostgreSQL database",
        "operationId": "get_all_clients_v1_clients__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "clients"
        ],
        "summary": "Create Client",
        "description": "Create a new client",
        "operationId": "create_client_v1_clients__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClientCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/clients/lookup": {
      "get": {
        "tags": [
          "clients"
        ],
        "summary": "Lookup Client",
        "description": "Lookup client by name or email (fuzzy matching)\nReturns best match with confidence score",
        "operationId": "lookup_client_v1_clients_lookup_get",
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Client name to search for",
              "title": "Name"
            },
            "description": "Client name to search for"
          },
          {
            "name": "email",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Client email to search for",
              "title": "Email"
            },
            "description": "Client email to search for"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/clients/{client_id}": {
      "get": {
        "tags": [
          "clients"
        ],
        "summary": "Get Client",
        "description": "Get a specific client by ID",
        "operationId": "get_client_v1_clients__client_id__get",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "clients"
        ],
        "summary": "Update Client",
        "description": "Update a specific client by ID",
        "operationId": "update_client_v1_clients__client_id__put",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Client Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Updates"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "clients"
        ],
        "summary": "Delete Client",
        "description": "Delete a client by ID",
        "operationId": "delete_client_v1_clients__client_id__delete",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/clients/by-business-id/{business_id}": {
      "get": {
        "tags": [
          "clients"
        ],
        "summary": "Get Client By Business Id",
        "description": "Get a specific client by business ID (e.g., CL-00001)",
        "operationId": "get_client_by_business_id_v1_clients_by_business_id__business_id__get",
        "parameters": [
          {
            "name": "business_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Business Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/extract": {
      "post": {
        "tags": [
          "documents"
        ],
        "summary": "Extract Document Data",
        "description": "Upload a PDF or image and extract structured data using AI",
        "operationId": "extract_document_data_v1_documents_extract_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_extract_document_data_v1_documents_extract_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/documents/create-from-extract": {
      "post": {
        "tags": [
          "documents"
        ],
        "summary": "Create Record From Extraction",
        "description": "Create a project or permit record from extracted data\nAccepts JSON body with document_type and extracted_data",
        "operationId": "create_record_from_extraction_v1_documents_create_from_extract_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Request Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/auth": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Initiate Auth",
        "description": "Initiate QuickBooks OAuth2 flow.\n\nRedirects user to QuickBooks login page.\nAfter authorization, QuickBooks redirects back to /callback endpoint.\n\nQuery Parameters:\n    state: Optional CSRF protection state parameter\n\nReturns:\n    Redirect to QuickBooks authorization page\n\nExample:\n    GET /v1/quickbooks/auth\n    GET /v1/quickbooks/auth?state=my-secure-state",
        "operationId": "initiate_auth_v1_quickbooks_auth_get",
        "parameters": [
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "randomstate",
              "title": "State"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/callback": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Oauth Callback",
        "description": "OAuth2 callback endpoint.\n\nQuickBooks redirects here after user authorizes the app.\nExchanges authorization code for access and refresh tokens.\nStores tokens in PostgreSQL database.\n\nQuery Parameters:\n    code: Authorization code\n    realmId: QuickBooks company ID\n    state: State parameter (should match initial request)\n\nReturns:\n    Token information and success status\n\nExample:\n    GET /v1/quickbooks/callback?code=ABC123&realmId=123456789",
        "operationId": "oauth_callback_v1_quickbooks_callback_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Authorization code from QuickBooks",
              "title": "Code"
            },
            "description": "Authorization code from QuickBooks"
          },
          {
            "name": "realmId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Company ID",
              "title": "Realmid"
            },
            "description": "Company ID"
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "State"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/disconnect": {
      "post": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Disconnect",
        "description": "Disconnect from QuickBooks (clear tokens).\n\nNote: This only clears local tokens. User must revoke app access\nin QuickBooks settings for full disconnection.\n\nReturns:\n    Success status",
        "operationId": "disconnect_v1_quickbooks_disconnect_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/status": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Get Status",
        "description": "Get QuickBooks connection status.\n\nReturns:\n    Connection status, realm ID, token expiration\n\nExample Response:\n    {\n        \"authenticated\": true,\n        \"realm_id\": \"123456789\",\n        \"environment\": \"sandbox\",\n        \"token_expires_at\": \"2025-01-06T12:00:00\"\n    }",
        "operationId": "get_status_v1_quickbooks_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/refresh": {
      "post": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Manual Refresh",
        "description": "Manually refresh QuickBooks access token using refresh token.\nUse this after deployments if tokens are expired.\n\nReturns:\n    Success status and new token expiration",
        "operationId": "manual_refresh_v1_quickbooks_refresh_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/company": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Get Company Info",
        "description": "Get company information from QuickBooks.\n\nReturns:\n    Company details (name, address, tax info, etc.)\n\nRequires:\n    Active authentication\n\nExample Response:\n    {\n        \"CompanyName\": \"House Renovators LLC\",\n        \"LegalName\": \"House Renovators LLC\",\n        \"CompanyAddr\": {...},\n        \"Email\": {...}\n    }",
        "operationId": "get_company_info_v1_quickbooks_company_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/customers": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Get Customers",
        "description": "Get all customers from QuickBooks.\n\nQuery Parameters:\n    active_only: Only return active customers (default: true)\n    customer_type: Filter by CustomerType name (default: \"GC Compliance\" - permit clients only)\n\nReturns:\n    List of customer records\n\nExample:\n    GET /v1/quickbooks/customers  (returns only GC Compliance customers)\n    GET /v1/quickbooks/customers?customer_type=  (returns all customers)\n    GET /v1/quickbooks/customers?customer_type=GC%20Compliance",
        "operationId": "get_customers_v1_quickbooks_customers_get",
        "parameters": [
          {
            "name": "active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Active Only"
            }
          },
          {
            "name": "customer_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by CustomerType. Default: 'GC Compliance' for permit clients. Pass empty string '' or 'none' to disable filtering.",
              "default": "GC Compliance",
              "title": "Customer Type"
            },
            "description": "Filter by CustomerType. Default: 'GC Compliance' for permit clients. Pass empty string '' or 'none' to disable filtering."
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Create Customer",
        "description": "Create a new customer in QuickBooks.\n\nRequest Body:\n    {\n        \"DisplayName\": \"John Doe\",  # Required\n        \"CompanyName\": \"Doe Construction\",  # Optional\n        \"GivenName\": \"John\",  # Optional\n        \"FamilyName\": \"Doe\",  # Optional\n        \"PrimaryPhone\": {\"FreeFormNumber\": \"(555) 123-4567\"},  # Optional\n        \"PrimaryEmailAddr\": {\"Address\": \"john@example.com\"},  # Optional\n        \"BillAddr\": {  # Optional\n            \"Line1\": \"123 Main St\",\n            \"City\": \"Anytown\",\n            \"CountrySubDivisionCode\": \"CA\",\n            \"PostalCode\": \"12345\"\n        }\n    }\n\nReturns:\n    Created customer record\n\nExample:\n    POST /v1/quickbooks/customers\n    Body: {\"DisplayName\": \"John Doe\", \"PrimaryPhone\": {\"FreeFormNumber\": \"555-1234\"}}",
        "operationId": "create_customer_v1_quickbooks_customers_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Customer Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/customers/{customer_id}": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Get Customer",
        "description": "Get a specific customer by QuickBooks ID.\n\nPath Parameters:\n    customer_id: QuickBooks customer ID\n\nReturns:\n    Customer record\n\nExample:\n    GET /v1/quickbooks/customers/123",
        "operationId": "get_customer_v1_quickbooks_customers__customer_id__get",
        "parameters": [
          {
            "name": "customer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Customer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/invoices": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Get Invoices",
        "description": "Get invoices from QuickBooks.\n\nQuery Parameters:\n    customer_id: Filter by customer ID (optional)\n    start_date: Filter by TxnDate >= start_date (YYYY-MM-DD) (optional)\n    end_date: Filter by TxnDate <= end_date (YYYY-MM-DD) (optional)\n\nReturns:\n    List of invoice records\n\nExample:\n    GET /v1/quickbooks/invoices\n    GET /v1/quickbooks/invoices?customer_id=123\n    GET /v1/quickbooks/invoices?start_date=2025-01-01&end_date=2025-01-31",
        "operationId": "get_invoices_v1_quickbooks_invoices_get",
        "parameters": [
          {
            "name": "customer_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Customer Id"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "YYYY-MM-DD format",
              "title": "Start Date"
            },
            "description": "YYYY-MM-DD format"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "YYYY-MM-DD format",
              "title": "End Date"
            },
            "description": "YYYY-MM-DD format"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Create Invoice",
        "description": "Create a new invoice in QuickBooks.\n\nRequest Body:\n    {\n        \"CustomerRef\": {\"value\": \"123\"},  # Required: Customer ID\n        \"Line\": [  # Required: Line items\n            {\n                \"Amount\": 1000.00,\n                \"DetailType\": \"SalesItemLineDetail\",\n                \"SalesItemLineDetail\": {\n                    \"ItemRef\": {\"value\": \"1\"},  # Item/Service ID\n                    \"Qty\": 1\n                },\n                \"Description\": \"Renovation work\"\n            }\n        ],\n        \"TxnDate\": \"2025-01-06\",  # Optional: Invoice date (YYYY-MM-DD)\n        \"DueDate\": \"2025-02-06\",  # Optional: Due date (YYYY-MM-DD)\n        \"DocNumber\": \"INV-001\"  # Optional: Invoice number\n    }\n\nReturns:\n    Created invoice record\n\nExample:\n    POST /v1/quickbooks/invoices\n    Body: {\n        \"CustomerRef\": {\"value\": \"123\"},\n        \"Line\": [{\n            \"Amount\": 500.00,\n            \"DetailType\": \"SalesItemLineDetail\",\n            \"SalesItemLineDetail\": {\"ItemRef\": {\"value\": \"1\"}},\n            \"Description\": \"Labor\"\n        }]\n    }",
        "operationId": "create_invoice_v1_quickbooks_invoices_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Invoice Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/invoices/{invoice_id}": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Get Invoice",
        "description": "Get a specific invoice by QuickBooks ID.\n\nPath Parameters:\n    invoice_id: QuickBooks invoice ID\n\nReturns:\n    Invoice record\n\nExample:\n    GET /v1/quickbooks/invoices/123",
        "operationId": "get_invoice_v1_quickbooks_invoices__invoice_id__get",
        "parameters": [
          {
            "name": "invoice_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Invoice Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/estimates": {
      "post": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Create Estimate",
        "description": "Create an estimate in QuickBooks.\n\nRequest Body: Similar to invoice structure\n    {\n        \"CustomerRef\": {\"value\": \"123\"},\n        \"Line\": [{\"Amount\": 1000.00, ...}],\n        \"TxnDate\": \"2025-01-06\"\n    }\n\nReturns:\n    Created estimate record",
        "operationId": "create_estimate_v1_quickbooks_estimates_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Estimate Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/vendors": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Get Vendors",
        "description": "Get all vendors from QuickBooks.\n\nQuery Parameters:\n    active_only: Only return active vendors (default: true)\n\nReturns:\n    List of vendor records",
        "operationId": "get_vendors_v1_quickbooks_vendors_get",
        "parameters": [
          {
            "name": "active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Active Only"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/bills": {
      "post": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Create Bill",
        "description": "Create a bill in QuickBooks.\n\nRequest Body:\n    {\n        \"VendorRef\": {\"value\": \"123\"},  # Required: Vendor ID\n        \"Line\": [  # Required: Line items\n            {\n                \"Amount\": 500.00,\n                \"DetailType\": \"AccountBasedExpenseLineDetail\",\n                \"AccountBasedExpenseLineDetail\": {\n                    \"AccountRef\": {\"value\": \"1\"}  # Expense account ID\n                },\n                \"Description\": \"Materials\"\n            }\n        ],\n        \"TxnDate\": \"2025-01-06\",  # Optional\n        \"DueDate\": \"2025-02-06\"  # Optional\n    }\n\nReturns:\n    Created bill record",
        "operationId": "create_bill_v1_quickbooks_bills_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Bill Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/items": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Get Items",
        "description": "Get items/services from QuickBooks.\n\nQuery Parameters:\n    item_type: Filter by type (Service, Inventory, NonInventory, etc.)\n\nReturns:\n    List of item records\n\nExample:\n    GET /v1/quickbooks/items\n    GET /v1/quickbooks/items?item_type=Service",
        "operationId": "get_items_v1_quickbooks_items_get",
        "parameters": [
          {
            "name": "item_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Item Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/customer-types": {
      "get": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Get Customer Types",
        "description": "Get all CustomerType entities from QuickBooks.\n\nReturns:\n    List of CustomerType records with ID and Name\n\nExample:\n    GET /v1/quickbooks/customer-types",
        "operationId": "get_customer_types_v1_quickbooks_customer_types_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/quickbooks/sync-types": {
      "post": {
        "tags": [
          "quickbooks"
        ],
        "summary": "Sync Customer Types",
        "description": "Sync CustomerTypeRef for all Google Sheets clients to 'GC Compliance' in QuickBooks.\n\nProcess:\n1. Gets all clients from Google Sheets\n2. Matches with QuickBooks customers by name/email\n3. Updates CustomerTypeRef to {\"name\": \"GC Compliance\"}\n4. Skips customers already set correctly\n\nQuery Parameters:\n    dry_run: If true, preview changes without updating (default: false)\n\nReturns:\n    Sync results with matched, updated, skipped, and error counts\n\nExample:\n    POST /v1/quickbooks/sync-types (executes updates)\n    POST /v1/quickbooks/sync-types?dry_run=true (preview only)",
        "operationId": "sync_customer_types_v1_quickbooks_sync_types_post",
        "parameters": [
          {
            "name": "dry_run",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Dry Run"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/payments/": {
      "get": {
        "tags": [
          "payments"
        ],
        "summary": "Get All Payments",
        "description": "Get all payments from database.\n\nReturns list of payment records with client and invoice information.",
        "operationId": "get_all_payments_v1_payments__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "payments"
        ],
        "summary": "Record Payment",
        "description": "Record a manual payment (non-QuickBooks).\n\nRequest body:\n    {\n        \"client_id\": \"abc12345\",\n        \"amount\": 4000,\n        \"payment_date\": \"2025-11-08\",  # optional, defaults to today\n        \"payment_method\": \"Check\",     # required: Check, Credit Card, Wire, Cash, ACH\n        \"status\": \"Cleared\",           # optional, defaults to \"Cleared\"\n        \"invoice_id\": \"invoice-uuid\",  # optional\n        \"project_id\": \"project-uuid\",  # optional\n        \"check_number\": \"1234\",        # optional\n        \"transaction_id\": \"txn-123\",   # optional\n        \"notes\": \"Payment received\"    # optional\n    }\n\nReturns:\n    Created payment record",
        "operationId": "record_payment_v1_payments__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Payment Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/v1/payments/{payment_id}": {
      "get": {
        "tags": [
          "payments"
        ],
        "summary": "Get Payment",
        "description": "Get a specific payment by Payment ID (UUID or business ID like PAY-00001).\n\nArgs:\n    payment_id: The Payment ID to retrieve (UUID or business ID)\n\nReturns:\n    Payment record with details",
        "operationId": "get_payment_v1_payments__payment_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "payment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Payment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/payments/client/{client_id}": {
      "get": {
        "tags": [
          "payments"
        ],
        "summary": "Get Client Payments",
        "description": "Get all payments for a specific client.\n\nArgs:\n    client_id: The Client ID to get payments for\n\nReturns:\n    List of payment records for the client",
        "operationId": "get_client_payments_v1_payments_client__client_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/payments/sync": {
      "post": {
        "tags": [
          "payments"
        ],
        "summary": "Sync Quickbooks Payments",
        "description": "Sync QuickBooks payments to database.\n\nArgs:\n    days_back: How many days back to sync payments (default 90)\n\nReturns:\n    Sync summary with counts of new/updated payments",
        "operationId": "sync_quickbooks_payments_v1_payments_sync_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "days_back",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Number of days back to sync",
              "default": 90,
              "title": "Days Back"
            },
            "description": "Number of days back to sync"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/payments/by-business-id/{business_id}": {
      "get": {
        "tags": [
          "payments"
        ],
        "summary": "Get Payment By Business Id",
        "description": "Get a specific payment by business ID (e.g., PAY-00001)",
        "operationId": "get_payment_by_business_id_v1_payments_by_business_id__business_id__get",
        "parameters": [
          {
            "name": "business_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Business Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/invoices/": {
      "get": {
        "tags": [
          "invoices"
        ],
        "summary": "Get All Invoices",
        "description": "Get all invoices",
        "operationId": "get_all_invoices_v1_invoices__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "invoices"
        ],
        "summary": "Create Invoice",
        "description": "Create a new invoice",
        "operationId": "create_invoice_v1_invoices__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InvoiceCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/invoices/{invoice_id}": {
      "get": {
        "tags": [
          "invoices"
        ],
        "summary": "Get Invoice",
        "description": "Get a specific invoice by ID",
        "operationId": "get_invoice_v1_invoices__invoice_id__get",
        "parameters": [
          {
            "name": "invoice_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Invoice Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "invoices"
        ],
        "summary": "Update Invoice",
        "description": "Update an existing invoice",
        "operationId": "update_invoice_v1_invoices__invoice_id__put",
        "parameters": [
          {
            "name": "invoice_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Invoice Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InvoiceUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "invoices"
        ],
        "summary": "Delete Invoice",
        "description": "Delete an invoice",
        "operationId": "delete_invoice_v1_invoices__invoice_id__delete",
        "parameters": [
          {
            "name": "invoice_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Invoice Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/invoices/project/{project_id}": {
      "get": {
        "tags": [
          "invoices"
        ],
        "summary": "Get Invoices By Project",
        "description": "Get all invoices for a specific project",
        "operationId": "get_invoices_by_project_v1_invoices_project__project_id__get",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Project Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/site-visits/": {
      "get": {
        "tags": [
          "site-visits"
        ],
        "summary": "Get All Site Visits",
        "description": "Get all site visits",
        "operationId": "get_all_site_visits_v1_site_visits__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "site-visits"
        ],
        "summary": "Create Site Visit",
        "description": "Create a new site visit",
        "operationId": "create_site_visit_v1_site_visits__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SiteVisitCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/site-visits/{visit_id}": {
      "get": {
        "tags": [
          "site-visits"
        ],
        "summary": "Get Site Visit",
        "description": "Get a specific site visit",
        "operationId": "get_site_visit_v1_site_visits__visit_id__get",
        "parameters": [
          {
            "name": "visit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Visit Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "site-visits"
        ],
        "summary": "Update Site Visit",
        "description": "Update a site visit",
        "operationId": "update_site_visit_v1_site_visits__visit_id__put",
        "parameters": [
          {
            "name": "visit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Visit Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SiteVisitUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "site-visits"
        ],
        "summary": "Delete Site Visit",
        "description": "Delete a site visit",
        "operationId": "delete_site_visit_v1_site_visits__visit_id__delete",
        "parameters": [
          {
            "name": "visit_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Visit Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/site-visits/project/{project_id}": {
      "get": {
        "tags": [
          "site-visits"
        ],
        "summary": "Get Site Visits By Project",
        "description": "Get all site visits for a specific project",
        "operationId": "get_site_visits_by_project_v1_site_visits_project__project_id__get",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Project Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/jurisdictions/": {
      "get": {
        "tags": [
          "jurisdictions"
        ],
        "summary": "Get All Jurisdictions",
        "description": "Get all jurisdictions",
        "operationId": "get_all_jurisdictions_v1_jurisdictions__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "jurisdictions"
        ],
        "summary": "Create Jurisdiction",
        "description": "Create a new jurisdiction",
        "operationId": "create_jurisdiction_v1_jurisdictions__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JurisdictionCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/jurisdictions/{jurisdiction_id}": {
      "get": {
        "tags": [
          "jurisdictions"
        ],
        "summary": "Get Jurisdiction",
        "description": "Get a specific jurisdiction",
        "operationId": "get_jurisdiction_v1_jurisdictions__jurisdiction_id__get",
        "parameters": [
          {
            "name": "jurisdiction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Jurisdiction Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "jurisdictions"
        ],
        "summary": "Update Jurisdiction",
        "description": "Update a jurisdiction",
        "operationId": "update_jurisdiction_v1_jurisdictions__jurisdiction_id__put",
        "parameters": [
          {
            "name": "jurisdiction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Jurisdiction Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JurisdictionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "jurisdictions"
        ],
        "summary": "Delete Jurisdiction",
        "description": "Delete a jurisdiction",
        "operationId": "delete_jurisdiction_v1_jurisdictions__jurisdiction_id__delete",
        "parameters": [
          {
            "name": "jurisdiction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Jurisdiction Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get All Users",
        "description": "Get all users (admin only)",
        "operationId": "get_all_users_v1_users__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create User",
        "description": "Create a new user (admin only)",
        "operationId": "create_user_v1_users__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User",
        "description": "Get a specific user",
        "operationId": "get_user_v1_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update User",
        "description": "Update a user (admin only)",
        "operationId": "update_user_v1_users__user_id__put",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete User",
        "description": "Delete a user (admin only)",
        "operationId": "delete_user_v1_users__user_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}/role": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update User Role",
        "description": "Update user role (admin only)",
        "operationId": "update_user_role_v1_users__user_id__role_put",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "role",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Role"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}/activate": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Activate User",
        "description": "Activate a user (admin only)",
        "operationId": "activate_user_v1_users__user_id__activate_put",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{user_id}/deactivate": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Deactivate User",
        "description": "Deactivate a user (admin only)",
        "operationId": "deactivate_user_v1_users__user_id__deactivate_put",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Health check endpoint",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Detailed health check",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/debug": {
      "get": {
        "summary": "Debug Info",
        "description": "Debug endpoint to check service status",
        "operationId": "debug_info_debug_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/version": {
      "get": {
        "summary": "Get Version",
        "description": "Get deployed version info",
        "operationId": "get_version_version_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Body_extract_document_data_v1_documents_extract_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "document_type": {
            "type": "string",
            "title": "Document Type",
            "description": "Type: 'project' or 'permit'"
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id",
            "description": "Optional client ID to associate"
          }
        },
        "type": "object",
        "required": [
          "file",
          "document_type"
        ],
        "title": "Body_extract_document_data_v1_documents_extract_post"
      },
      "ClientCreate": {
        "properties": {
          "full_name": {
            "type": "string",
            "title": "Full Name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "city": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "City"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State"
          },
          "zip_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Zip Code"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "default": "Active"
          },
          "client_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Type",
            "default": "Residential"
          }
        },
        "type": "object",
        "required": [
          "full_name",
          "email"
        ],
        "title": "ClientCreate",
        "description": "Request model for creating a client."
      },
      "DeficiencyCreate": {
        "properties": {
          "description": {
            "type": "string",
            "title": "Description"
          },
          "severity": {
            "type": "string",
            "title": "Severity",
            "default": "Medium"
          },
          "photo_refs": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Photo Refs"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "description"
        ],
        "title": "DeficiencyCreate",
        "description": "Request model for adding a deficiency"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "InspectionCreate": {
        "properties": {
          "permit_id": {
            "type": "string",
            "format": "uuid",
            "title": "Permit Id"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id"
          },
          "inspection_type": {
            "type": "string",
            "title": "Inspection Type"
          },
          "scheduled_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Date"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "default": "Scheduled"
          },
          "inspector": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspector"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "extra": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra"
          }
        },
        "type": "object",
        "required": [
          "permit_id",
          "project_id",
          "inspection_type"
        ],
        "title": "InspectionCreate",
        "description": "Request model for creating an inspection"
      },
      "InspectionListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/InspectionResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "skip": {
            "type": "integer",
            "title": "Skip"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "skip",
          "limit"
        ],
        "title": "InspectionListResponse",
        "description": "Paginated response for inspection list"
      },
      "InspectionResponse": {
        "properties": {
          "inspection_id": {
            "type": "string",
            "format": "uuid",
            "title": "Inspection Id"
          },
          "business_id": {
            "type": "string",
            "title": "Business Id"
          },
          "permit_id": {
            "type": "string",
            "format": "uuid",
            "title": "Permit Id"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id"
          },
          "inspection_type": {
            "type": "string",
            "title": "Inspection Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "scheduled_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Date"
          },
          "completed_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed Date"
          },
          "inspector": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspector"
          },
          "assigned_to": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned To"
          },
          "result": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "photos": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Photos"
          },
          "deficiencies": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deficiencies"
          },
          "extra": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "inspection_id",
          "business_id",
          "permit_id",
          "project_id",
          "inspection_type",
          "status",
          "scheduled_date",
          "completed_date",
          "inspector",
          "assigned_to",
          "result",
          "notes",
          "photos",
          "deficiencies",
          "extra",
          "created_at",
          "updated_at"
        ],
        "title": "InspectionResponse",
        "description": "Response model for inspection data"
      },
      "InspectionUpdate": {
        "properties": {
          "inspection_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspection Type"
          },
          "scheduled_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Date"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "inspector": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspector"
          },
          "result": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "completed_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed Date"
          }
        },
        "type": "object",
        "title": "InspectionUpdate",
        "description": "Request model for updating an inspection"
      },
      "InvoiceCreate": {
        "properties": {
          "project_id": {
            "type": "string",
            "title": "Project Id"
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "invoice_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invoice Number"
          },
          "invoice_date": {
            "type": "string",
            "format": "date-time",
            "title": "Invoice Date"
          },
          "due_date": {
            "type": "string",
            "format": "date-time",
            "title": "Due Date"
          },
          "line_items": {
            "items": {
              "$ref": "#/components/schemas/InvoiceLineItem"
            },
            "type": "array",
            "title": "Line Items"
          },
          "tax_amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tax Amount",
            "default": 0
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "default": "Draft"
          }
        },
        "type": "object",
        "required": [
          "project_id",
          "invoice_date",
          "due_date",
          "line_items"
        ],
        "title": "InvoiceCreate",
        "description": "Request model for creating an invoice."
      },
      "InvoiceLineItem": {
        "properties": {
          "description": {
            "type": "string",
            "title": "Description"
          },
          "quantity": {
            "type": "number",
            "title": "Quantity"
          },
          "rate": {
            "type": "number",
            "title": "Rate"
          },
          "amount": {
            "type": "number",
            "title": "Amount"
          }
        },
        "type": "object",
        "required": [
          "description",
          "quantity",
          "rate",
          "amount"
        ],
        "title": "InvoiceLineItem"
      },
      "InvoiceUpdate": {
        "properties": {
          "invoice_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invoice Date"
          },
          "due_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Due Date"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "line_items": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/InvoiceLineItem"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Line Items"
          },
          "tax_amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tax Amount"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "title": "InvoiceUpdate",
        "description": "Request model for updating an invoice."
      },
      "JurisdictionCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "state": {
            "type": "string",
            "title": "State"
          },
          "requirements": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requirements",
            "default": {}
          }
        },
        "type": "object",
        "required": [
          "name",
          "state"
        ],
        "title": "JurisdictionCreate"
      },
      "JurisdictionUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State"
          },
          "requirements": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Requirements"
          }
        },
        "type": "object",
        "title": "JurisdictionUpdate"
      },
      "PermitCreate": {
        "properties": {
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id"
          },
          "permit_type": {
            "type": "string",
            "title": "Permit Type",
            "description": "Building, Electrical, Plumbing, Mechanical, etc."
          },
          "jurisdiction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Jurisdiction"
          },
          "permit_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permit Number"
          },
          "application_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Application Date"
          },
          "issuing_authority": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Issuing Authority"
          },
          "inspector_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspector Name"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "project_id",
          "permit_type"
        ],
        "title": "PermitCreate",
        "description": "Request model for creating a permit"
      },
      "PermitListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/PermitResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "skip": {
            "type": "integer",
            "title": "Skip"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "skip",
          "limit"
        ],
        "title": "PermitListResponse",
        "description": "Paginated response for permit list"
      },
      "PermitResponse": {
        "properties": {
          "permit_id": {
            "type": "string",
            "format": "uuid",
            "title": "Permit Id"
          },
          "business_id": {
            "type": "string",
            "title": "Business Id"
          },
          "project_id": {
            "type": "string",
            "format": "uuid",
            "title": "Project Id"
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "permit_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permit Number"
          },
          "permit_type": {
            "type": "string",
            "title": "Permit Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "application_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Application Date"
          },
          "approval_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approval Date"
          },
          "expiration_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiration Date"
          },
          "issuing_authority": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Issuing Authority"
          },
          "inspector_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspector Name"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "approved_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved By"
          },
          "approved_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved At"
          },
          "extra": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "permit_id",
          "business_id",
          "project_id",
          "client_id",
          "permit_number",
          "permit_type",
          "status",
          "application_date",
          "approval_date",
          "expiration_date",
          "issuing_authority",
          "inspector_name",
          "notes",
          "approved_by",
          "approved_at",
          "extra",
          "created_at",
          "updated_at"
        ],
        "title": "PermitResponse",
        "description": "Response model for permit data"
      },
      "PermitStatusUpdate": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Draft, Submitted, Under Review, Approved, Rejected, Expired"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "PermitStatusUpdate",
        "description": "Request model for updating permit status"
      },
      "PermitSubmit": {
        "properties": {
          "application_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Application Date"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "title": "PermitSubmit",
        "description": "Request model for submitting a permit"
      },
      "PermitUpdate": {
        "properties": {
          "permit_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permit Type"
          },
          "jurisdiction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Jurisdiction"
          },
          "permit_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permit Number"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "application_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Application Date"
          },
          "approval_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approval Date"
          },
          "expiration_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiration Date"
          },
          "issuing_authority": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Issuing Authority"
          },
          "inspector_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspector Name"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "title": "PermitUpdate",
        "description": "Request model for updating a permit"
      },
      "PhotoUpload": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp"
          },
          "gps": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gps"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "url"
        ],
        "title": "PhotoUpload",
        "description": "Request model for uploading inspection photos"
      },
      "PrecheckResult": {
        "properties": {
          "can_schedule": {
            "type": "boolean",
            "title": "Can Schedule"
          },
          "missing": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Missing"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings"
          },
          "ai_confidence": {
            "type": "number",
            "title": "Ai Confidence"
          },
          "suggestions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Suggestions"
          }
        },
        "type": "object",
        "required": [
          "can_schedule",
          "missing",
          "warnings",
          "ai_confidence",
          "suggestions"
        ],
        "title": "PrecheckResult",
        "description": "Response model for permit precheck"
      },
      "ProjectCreate": {
        "properties": {
          "client_id": {
            "type": "string",
            "title": "Client Id"
          },
          "project_name": {
            "type": "string",
            "title": "Project Name"
          },
          "project_address": {
            "type": "string",
            "title": "Project Address"
          },
          "city": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "City"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State"
          },
          "zip_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Zip Code"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "default": "Planning"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date"
          },
          "target_completion": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Completion"
          }
        },
        "type": "object",
        "required": [
          "client_id",
          "project_name",
          "project_address"
        ],
        "title": "ProjectCreate",
        "description": "Request model for creating a project."
      },
      "ProjectUpdate": {
        "properties": {
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "project_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Project Name"
          },
          "project_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Project Address"
          },
          "city": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "City"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State"
          },
          "zip_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Zip Code"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date"
          },
          "target_completion": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Completion"
          }
        },
        "type": "object",
        "title": "ProjectUpdate",
        "description": "Request model for updating a project."
      },
      "SiteVisitCreate": {
        "properties": {
          "project_id": {
            "type": "string",
            "title": "Project Id"
          },
          "visit_date": {
            "type": "string",
            "format": "date-time",
            "title": "Visit Date"
          },
          "purpose": {
            "type": "string",
            "title": "Purpose"
          },
          "attendees": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attendees"
          },
          "observations": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Observations"
          },
          "action_items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action Items"
          }
        },
        "type": "object",
        "required": [
          "project_id",
          "visit_date",
          "purpose"
        ],
        "title": "SiteVisitCreate"
      },
      "SiteVisitUpdate": {
        "properties": {
          "visit_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visit Date"
          },
          "purpose": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Purpose"
          },
          "attendees": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attendees"
          },
          "observations": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Observations"
          },
          "action_items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action Items"
          }
        },
        "type": "object",
        "title": "SiteVisitUpdate"
      },
      "UpdateMetadataRequest": {
        "properties": {
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "metadata"
        ],
        "title": "UpdateMetadataRequest"
      },
      "UpdateRoleRequest": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "role": {
            "type": "string",
            "title": "Role"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "role"
        ],
        "title": "UpdateRoleRequest"
      },
      "UserCreate": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "full_name": {
            "type": "string",
            "title": "Full Name"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "default": "client"
          }
        },
        "type": "object",
        "required": [
          "email",
          "full_name"
        ],
        "title": "UserCreate"
      },
      "UserResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "role": {
            "type": "string",
            "title": "Role"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_email_verified": {
            "type": "boolean",
            "title": "Is Email Verified"
          },
          "last_login_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login At"
          },
          "app_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "App Metadata"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "role",
          "is_active",
          "is_email_verified",
          "created_at"
        ],
        "title": "UserResponse"
      },
      "UserUpdate": {
        "properties": {
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "role": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Role"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "UserUpdate"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
